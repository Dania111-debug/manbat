<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø®Ø±ÙŠØ·Ø© Ù…Ø¯Ø§Ø±Ø³ Ù…Ù†Ø¨Øª</title>

<link rel="stylesheet"
 href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css"/>

<style>
:root {
    --bg: #f4f6f8;
    --card: #ffffff;
    --text: #1f2937;
    --primary: #2fa86f; /* Ø£Ø®Ø¶Ø± Ù…Ù†Ø¨Øª */
}

body.dark {
    --bg: #0f172a;
    --card: #1e293b;
    --text: #e5e7eb;
}

body {
    margin: 0;
    font-family: "Segoe UI", Arial;
    background: var(--bg);
    color: var(--text);
}

/* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¹Ù„ÙˆÙŠ */
#top {
    position: fixed;
    top: 12px;
    left: 12px;
    background: var(--card);
    padding: 10px;
    border-radius: 14px;
    z-index: 1000;
    box-shadow: 0 10px 25px rgba(0,0,0,.15);
    display: flex;
    align-items: center;
    gap: 6px;
}

#schoolName {
    width: 140px;
    padding: 7px 10px;
    border-radius: 10px;
    border: 1px solid #cbd5e1;
    outline: none;
}

#addBtn {
    background: var(--primary);
    color: white;
    border: none;
    padding: 7px 12px;
    border-radius: 10px;
    cursor: pointer;
}

#toggleDark {
    background: none;
    border: none;
    font-size: 18px;
    cursor: pointer;
}

/* Ø§Ù„Ø®Ø±ÙŠØ·Ø© */
#map {
    height: 100vh;
}

/* ØªØ¹Ø¯ÙŠÙ„ Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù€ popup */
.leaflet-popup-content-wrapper {
    background: var(--card);
    color: var(--text);
}
</style>
</head>

<body>

<div id="top">
    <button id="toggleDark">ğŸŒ™</button>
    <input id="schoolName" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©">
    <button id="addBtn">Ø¥Ø¶Ø§ÙØ©</button>
</div>

<div id="map"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>

<script>
let map = L.map('map').setView([24.7, 46.6], 6);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: 'Â© OpenStreetMap'
}).addTo(map);

let marker = null;

/* Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹ */
map.on('click', function(e) {
    if (marker) map.removeLayer(marker);
    marker = L.marker(e.latlng).addTo(map);
});

/* Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ø³Ù… */
document.getElementById("addBtn").onclick = function () {
    let name = document.getElementById("schoolName").value.trim();

    if (!marker || !name) {
        alert("Ø­Ø¯Ø¯ÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§ÙƒØªØ¨ÙŠ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©");
        return;
    }

    marker.bindPopup(name).openPopup();
};

/* Ø¯Ø§Ø±Ùƒ Ù…ÙˆØ¯ */
document.getElementById("toggleDark").onclick = function () {
    document.body.classList.toggle("dark");
};
</script>

</body>
</html>
