<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ù…Ù†Ø¨Øª</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f6f6f6;
    color: #222;
}

.dark {
    background: #111;
    color: #eee;
}

header {
    text-align: center;
    padding: 25px;
    background: linear-gradient(135deg, #6a11cb, #2575fc);
    color: white;
}

header h1 {
    margin: 0;
    font-size: 48px;
}

.container {
    padding: 20px;
}

.controls {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

input {
    padding: 10px;
    font-size: 16px;
    flex: 1;
}

button {
    padding: 10px 15px;
    font-size: 16px;
    cursor: pointer;
}

#map {
    height: 400px; /* ğŸ”´ Ù‡Ù†Ø§ Ø§Ù„ÙØ±Ù‚ */
    border-radius: 12px;
}

.top {
    margin-top: 20px;
}
</style>
</head>

<body>
<header>
    <h1>ğŸŒ± Ù…Ù†Ø¨Øª</h1>
    <p>Ø®Ø±ÙŠØ·Ø© Ù…Ø´Ø§Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø¯Ø§Ø±Ø³</p>
    <button onclick="toggleDark()">ğŸŒ™ Ø¯Ø§Ø±Ùƒ Ù…ÙˆØ¯</button>
</header>

<div class="container">
    <div class="controls">
        <input id="name" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø¯Ø±Ø³Ø©">
        <button onclick="addSchool()">Ø¥Ø¶Ø§ÙØ©</button>
    </div>

    <div id="map"></div>

    <div class="top">
        <h2>ğŸ† Top 5</h2>
        <ul id="list"></ul>
    </div>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
let map = L.map('map').setView([24.7, 46.7], 6);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

function addSchool(){
    let name = document.getElementById("name").value;
    if(!name) return;

    map.once("click", e => {
        L.marker(e.latlng).addTo(map).bindPopup(name).openPopup();

        fetch("/add", {
            method:"POST",
            headers:{ "Content-Type":"application/json" },
            body: JSON.stringify({name, lat:e.latlng.lat, lng:e.latlng.lng})
        });

        document.getElementById("name").value = "";
    });

    alert("Ø§Ø¶ØºØ·ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ù„ØªØ­Ø·ÙŠÙ† Ø§Ù„Ø¯Ø¨ÙˆØ³");
}

function toggleDark(){
    document.body.classList.toggle("dark");
}
</script>
</body>
</html>
